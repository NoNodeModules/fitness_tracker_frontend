{"ast":null,"code":"var _jsxFileName = \"/home/tradcliffe/fitness_tracker/src/components/Profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { userProfile } from '../api';\nimport { getCurrentToken } from '../api';\nimport Post from './Post';\nimport Message from './Message';\nimport '../components/profile.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Profile = () => {\n  _s();\n\n  const [messages, setMessages] = useState([]);\n  const [userPosts, setUserPosts] = useState([]);\n  const [currentUser, setCurrentUser] = useState('');\n  useEffect(() => {\n    if (getCurrentToken()) {\n      userProfile(getCurrentToken()).then(({\n        data\n      }) => setMessages(data.messages));\n    }\n  }, []);\n  useEffect(() => {\n    if (getCurrentToken()) {\n      userProfile(getCurrentToken()).then(({\n        data\n      }) => setUserPosts(data.posts));\n    }\n  }, []);\n  useEffect(() => {\n    if (getCurrentToken()) {\n      userProfile(getCurrentToken()).then(({\n        data\n      }) => setCurrentUser(data.username));\n    }\n  }, []);\n  console.log(userPosts);\n  console.log(messages);\n\n  if (currentUser) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Welcome to your profile, \", currentUser, \"!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-posts\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Your Posts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this), userPosts ? userPosts.map((post, index) => /*#__PURE__*/_jsxDEV(Post, {\n          post: post\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 61\n        }, this)) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-messages\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Messages\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this), messages ? messages.map((message, index) => /*#__PURE__*/_jsxDEV(Message, {\n          currentUser: currentUser,\n          message: message\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 62\n        }, this)) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this);\n  } else return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Please login to see your profile.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Profile, \"yomTop5t7KobczG3E3EQbmsAzHM=\");\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["/home/tradcliffe/fitness_tracker/src/components/Profile.js"],"names":["React","useEffect","useState","userProfile","getCurrentToken","Post","Message","Profile","messages","setMessages","userPosts","setUserPosts","currentUser","setCurrentUser","then","data","posts","username","console","log","map","post","index","message"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,QAA4B,QAA5B;AACA,SAASC,eAAT,QAAgC,QAAhC;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAO,2BAAP;;;AAGA,MAAMC,OAAO,GAAG,MAAM;AAAA;;AAElB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA4BT,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACU,WAAD,EAAcC,cAAd,IAAgCX,QAAQ,CAAC,EAAD,CAA9C;AAGAD,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGG,eAAe,EAAlB,EAAsB;AACtBD,MAAAA,WAAW,CAACC,eAAe,EAAhB,CAAX,CACCU,IADD,CACM,CAAC;AAACC,QAAAA;AAAD,OAAD,KAAYN,WAAW,CAACM,IAAI,CAACP,QAAN,CAD7B;AAEH;AACA,GALQ,EAKN,EALM,CAAT;AAOAP,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGG,eAAe,EAAlB,EAAqB;AACrBD,MAAAA,WAAW,CAACC,eAAe,EAAhB,CAAX,CACCU,IADD,CACM,CAAC;AAACC,QAAAA;AAAD,OAAD,KAAYJ,YAAY,CAACI,IAAI,CAACC,KAAN,CAD9B;AAEC;AACJ,GALQ,EAKN,EALM,CAAT;AAOAf,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGG,eAAe,EAAlB,EAAsB;AACtBD,MAAAA,WAAW,CAACC,eAAe,EAAhB,CAAX,CACCU,IADD,CACM,CAAC;AAACC,QAAAA;AAAD,OAAD,KAAYF,cAAc,CAACE,IAAI,CAACE,QAAN,CADhC;AAEC;AACJ,GALQ,EAKN,EALM,CAAT;AAQIC,EAAAA,OAAO,CAACC,GAAR,CAAYT,SAAZ;AACAQ,EAAAA,OAAO,CAACC,GAAR,CAAYX,QAAZ;;AAGJ,MAAGI,WAAH,EAAgB;AACZ,wBACI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,8BACI;AAAA,gDAA8BA,WAA9B;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,gCACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,EAECF,SAAS,GAAGA,SAAS,CAACU,GAAV,CAAc,CAACC,IAAD,EAAOC,KAAP,kBAAiB,QAAC,IAAD;AAAkB,UAAA,IAAI,EAAED;AAAxB,WAAWC,KAAX;AAAA;AAAA;AAAA;AAAA,gBAA/B,CAAH,GAAuE,IAFjF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAMI;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA,gCACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,EAECd,QAAQ,GAAGA,QAAQ,CAACY,GAAT,CAAa,CAACG,OAAD,EAAUD,KAAV,kBAAoB,QAAC,OAAD;AAAS,UAAA,WAAW,EAAEV,WAAtB;AAA+C,UAAA,OAAO,EAAEW;AAAxD,WAAwCD,KAAxC;AAAA;AAAA;AAAA;AAAA,gBAAjC,CAAH,GAA0G,IAFnH;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAaH,GAdD,MAcO,oBACH;AAAA,2BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADG;AAIV,CAnDD;;GAAMf,O;;KAAAA,O;AAsDN,eAAeA,OAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { userProfile } from '../api';\nimport { getCurrentToken } from '../api';\nimport Post from './Post';\nimport Message from './Message';\nimport '../components/profile.css';\n\n\nconst Profile = () => {\n\n    const [messages, setMessages] = useState([]);\n    const [userPosts, setUserPosts] = useState([]);\n    const [currentUser, setCurrentUser] = useState('');\n\n\n    useEffect(() => {\n        if(getCurrentToken()) {\n        userProfile(getCurrentToken())\n        .then(({data}) => setMessages(data.messages))\n    }\n    }, [])\n\n    useEffect(() => {\n        if(getCurrentToken()){\n        userProfile(getCurrentToken())\n        .then(({data}) => setUserPosts(data.posts))\n        }\n    }, [])\n\n    useEffect(() => {\n        if(getCurrentToken()) {\n        userProfile(getCurrentToken())\n        .then(({data}) => setCurrentUser(data.username))\n        }\n    }, [])\n\n       \n        console.log(userPosts);\n        console.log(messages)\n\n\n    if(currentUser) {\n        return (\n            <div className=\"profile-page\">\n                <h1>Welcome to your profile, {currentUser}!</h1>\n                <div className=\"profile-posts\">\n                <h2>Your Posts</h2>\n                {userPosts ? userPosts.map((post, index) => <Post key={index} post={post} /> ) : null}\n                </div>\n                <div className=\"profile-messages\">\n                <h2>Messages</h2>\n                {messages ? messages.map((message, index) => <Message currentUser={currentUser} key={index} message={message}/>) : null}\n                </div>\n            </div>\n        )\n    } else return (\n        <div>\n            <h1>Please login to see your profile.</h1>\n        </div> )\n} \n    \n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}