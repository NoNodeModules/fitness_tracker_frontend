{"ast":null,"code":"export function storeLoginToken(token) {\n  localStorage.setItem('token', JSON.stringify(token));\n}\nexport function getCurrentToken() {\n  const token = JSON.parse(localStorage.getItem('token'));\n  return token;\n}\nexport function clearCurrentToken() {\n  localStorage.removeItem('token');\n}\nexport const fetchRoutines = async () => {\n  const response = await fetch('http://fitnesstrac-kr.herokuapp.com/api/routines', {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  const data = await response.json();\n  return data;\n};\nexport const fetchUser = async () => {\n  const response = await fetch('http://fitnesstrac-kr.herokuapp.com/api/users/me', {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${getCurrentToken()}`\n    }\n  });\n  const data = response.json();\n  console.log(data.username);\n  return data.username;\n}; // export const userProfile = async (token = '') => {\n//   const response = await fetch('https://strangers-things.herokuapp.com/api/2010-UNF-RM-WEB-PT/users/me', {\n//         headers: {\n//             'Content-Type': 'application/json',\n//             Authorization: `Bearer ${token}`\n//         },\n//         })\n//         const data = await response.json();\n//         return data;\n//   }\n// export const sendMessage = ({\n//   messageContent,\n//   postId\n// }) => {\n//   return fetch(`https://strangers-things.herokuapp.com/api/2010-UNF-RM-WEB-PT/posts/${postId}/messages`, {\n//       method: \"POST\",\n//       headers: {\n//         'Content-Type': 'application/json',\n//         'Authorization': `Bearer ${getCurrentToken()}`\n//       },\n//       body: JSON.stringify({\n//         message: {\n//           content: messageContent,\n//         }\n//       })\n//     }).then(response => response.json())\n//       .then(result => {\n//         console.log(result);\n//       })\n//       .catch((error) => console.error(error));\n// }","map":{"version":3,"sources":["/home/tradcliffe/fitness_tracker/src/api/index.js"],"names":["storeLoginToken","token","localStorage","setItem","JSON","stringify","getCurrentToken","parse","getItem","clearCurrentToken","removeItem","fetchRoutines","response","fetch","headers","data","json","fetchUser","console","log","username"],"mappings":"AAAA,OAAO,SAASA,eAAT,CAAyBC,KAAzB,EAAgC;AACnCC,EAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAeJ,KAAf,CAA9B;AACD;AAED,OAAO,SAASK,eAAT,GAA2B;AAChC,QAAML,KAAK,GAAGG,IAAI,CAACG,KAAL,CAAWL,YAAY,CAACM,OAAb,CAAqB,OAArB,CAAX,CAAd;AACA,SAAOP,KAAP;AACD;AAED,OAAO,SAASQ,iBAAT,GAA6B;AAClCP,EAAAA,YAAY,CAACQ,UAAb,CAAwB,OAAxB;AACD;AAGH,OAAO,MAAMC,aAAa,GAAG,YAAY;AACvC,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,kDAAD,EAAqD;AAC/EC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT;AADsE,GAArD,CAA5B;AAKA,QAAMC,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAT,EAAnB;AAEA,SAAOD,IAAP;AACD,CATM;AAWP,OAAO,MAAME,SAAS,GAAG,YAAY;AACnC,QAAML,QAAQ,GAAG,MAAMC,KAAK,CAAC,kDAAD,EAAqD;AAC/EC,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,uBAAkB,UAASR,eAAe,EAAG;AAFtC;AADsE,GAArD,CAA5B;AAME,QAAMS,IAAI,GAAGH,QAAQ,CAACI,IAAT,EAAb;AAEAE,EAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAI,CAACK,QAAjB;AACA,SAAOL,IAAI,CAACK,QAAZ;AAEH,CAZM,C,CAcP;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["export function storeLoginToken(token) {\n    localStorage.setItem('token', JSON.stringify(token));\n  }\n  \n  export function getCurrentToken() {\n    const token = JSON.parse(localStorage.getItem('token'));\n    return token;\n  }\n  \n  export function clearCurrentToken() {\n    localStorage.removeItem('token');\n  }\n\n\nexport const fetchRoutines = async () => {\n  const response = await fetch('http://fitnesstrac-kr.herokuapp.com/api/routines', {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  })\n  const data = await response.json();\n\n  return data;\n}\n\nexport const fetchUser = async () => {\n  const response = await fetch('http://fitnesstrac-kr.herokuapp.com/api/users/me', {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${getCurrentToken()}`\n    },\n  })\n    const data = response.json();\n\n    console.log(data.username)\n    return data.username;\n\n}\n\n// export const userProfile = async (token = '') => {\n\n//   const response = await fetch('https://strangers-things.herokuapp.com/api/2010-UNF-RM-WEB-PT/users/me', {\n//         headers: {\n//             'Content-Type': 'application/json',\n//             Authorization: `Bearer ${token}`\n//         },\n//         })\n//         const data = await response.json();\n//         return data;\n//   }\n\n\n\n// export const sendMessage = ({\n//   messageContent,\n//   postId\n// }) => {\n\n//   return fetch(`https://strangers-things.herokuapp.com/api/2010-UNF-RM-WEB-PT/posts/${postId}/messages`, {\n//       method: \"POST\",\n//       headers: {\n//         'Content-Type': 'application/json',\n//         'Authorization': `Bearer ${getCurrentToken()}`\n//       },\n//       body: JSON.stringify({\n//         message: {\n//           content: messageContent,\n//         }\n//       })\n//     }).then(response => response.json())\n//       .then(result => {\n//         console.log(result);\n//       })\n//       .catch((error) => console.error(error));\n\n// }\n\n\n"]},"metadata":{},"sourceType":"module"}