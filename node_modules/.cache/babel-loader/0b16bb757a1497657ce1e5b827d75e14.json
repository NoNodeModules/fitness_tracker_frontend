{"ast":null,"code":"export function storeLoginToken(token) {\n  localStorage.setItem('token', JSON.stringify(token));\n}\nexport function getCurrentToken() {\n  const token = JSON.parse(localStorage.getItem('token'));\n  return token;\n}\nexport function clearCurrentToken() {\n  localStorage.removeItem('token');\n}\nexport const fetchPosts = async (token = '') => {\n  const response = await fetch('https://strangers-things.herokuapp.com/api/2010-UNF-RM-WEB-PT/posts', {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  const data = await response.json();\n  return data;\n};\nexport const userProfile = async (token = '') => {\n  const response = await fetch('https://strangers-things.herokuapp.com/api/2010-UNF-RM-WEB-PT/users/me', {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  });\n  const data = await response.json();\n  return data;\n};\nexport const sendMessage = ({\n  messageContent,\n  postId\n}) => {\n  return fetch(`https://strangers-things.herokuapp.com/api/2010-UNF-RM-WEB-PT/posts/${postId}/messages`, {\n    method: \"POST\",\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${getCurrentToken()}`\n    },\n    body: JSON.stringify({\n      message: {\n        content: messageContent\n      }\n    })\n  }).then(response => response.json()).then(result => {\n    console.log(result);\n  }).catch(error => console.error(error));\n};","map":{"version":3,"sources":["/home/tradcliffe/fitness_tracker/src/api/index.js"],"names":["storeLoginToken","token","localStorage","setItem","JSON","stringify","getCurrentToken","parse","getItem","clearCurrentToken","removeItem","fetchPosts","response","fetch","headers","Authorization","data","json","userProfile","sendMessage","messageContent","postId","method","body","message","content","then","result","console","log","catch","error"],"mappings":"AAAA,OAAO,SAASA,eAAT,CAAyBC,KAAzB,EAAgC;AACnCC,EAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAeJ,KAAf,CAA9B;AACD;AAED,OAAO,SAASK,eAAT,GAA2B;AAChC,QAAML,KAAK,GAAGG,IAAI,CAACG,KAAL,CAAWL,YAAY,CAACM,OAAb,CAAqB,OAArB,CAAX,CAAd;AACA,SAAOP,KAAP;AACD;AAED,OAAO,SAASQ,iBAAT,GAA6B;AAClCP,EAAAA,YAAY,CAACQ,UAAb,CAAwB,OAAxB;AACD;AAGH,OAAO,MAAMC,UAAU,GAAG,OAAOV,KAAK,GAAG,EAAf,KAAsB;AAC9C,QAAMW,QAAQ,GAAG,MAAMC,KAAK,CAAC,qEAAD,EAAwE;AAClGC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAG,UAASd,KAAM;AADxB;AADyF,GAAxE,CAA5B;AAKA,QAAMe,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAAnB;AACA,SAAOD,IAAP;AACD,CARM;AAWP,OAAO,MAAME,WAAW,GAAG,OAAOjB,KAAK,GAAG,EAAf,KAAsB;AAE/C,QAAMW,QAAQ,GAAG,MAAMC,KAAK,CAAC,wEAAD,EAA2E;AACjGC,IAAAA,OAAO,EAAE;AACL,sBAAgB,kBADX;AAELC,MAAAA,aAAa,EAAG,UAASd,KAAM;AAF1B;AADwF,GAA3E,CAA5B;AAMM,QAAMe,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAAnB;AACA,SAAOD,IAAP;AACL,CAVI;AAcP,OAAO,MAAMG,WAAW,GAAG,CAAC;AAC1BC,EAAAA,cAD0B;AAE1BC,EAAAA;AAF0B,CAAD,KAGrB;AAEJ,SAAOR,KAAK,CAAE,uEAAsEQ,MAAO,WAA/E,EAA2F;AACnGC,IAAAA,MAAM,EAAE,MAD2F;AAEnGR,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,uBAAkB,UAASR,eAAe,EAAG;AAFtC,KAF0F;AAMnGiB,IAAAA,IAAI,EAAEnB,IAAI,CAACC,SAAL,CAAe;AACnBmB,MAAAA,OAAO,EAAE;AACPC,QAAAA,OAAO,EAAEL;AADF;AADU,KAAf;AAN6F,GAA3F,CAAL,CAWFM,IAXE,CAWGd,QAAQ,IAAIA,QAAQ,CAACK,IAAT,EAXf,EAYFS,IAZE,CAYGC,MAAM,IAAI;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACD,GAdE,EAeFG,KAfE,CAeKC,KAAD,IAAWH,OAAO,CAACG,KAAR,CAAcA,KAAd,CAff,CAAP;AAiBD,CAtBM","sourcesContent":["export function storeLoginToken(token) {\n    localStorage.setItem('token', JSON.stringify(token));\n  }\n  \n  export function getCurrentToken() {\n    const token = JSON.parse(localStorage.getItem('token'));\n    return token;\n  }\n  \n  export function clearCurrentToken() {\n    localStorage.removeItem('token');\n  }\n\n\nexport const fetchPosts = async (token = '') => {\n  const response = await fetch('https://strangers-things.herokuapp.com/api/2010-UNF-RM-WEB-PT/posts', {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  })\n  const data = await response.json();\n  return data;\n}\n\n\nexport const userProfile = async (token = '') => {\n\n  const response = await fetch('https://strangers-things.herokuapp.com/api/2010-UNF-RM-WEB-PT/users/me', {\n        headers: {\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${token}`\n        },\n        })\n        const data = await response.json();\n        return data;\n  }\n\n\n\nexport const sendMessage = ({\n  messageContent,\n  postId\n}) => {\n\n  return fetch(`https://strangers-things.herokuapp.com/api/2010-UNF-RM-WEB-PT/posts/${postId}/messages`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${getCurrentToken()}`\n      },\n      body: JSON.stringify({\n        message: {\n          content: messageContent,\n        }\n      })\n    }).then(response => response.json())\n      .then(result => {\n        console.log(result);\n      })\n      .catch((error) => console.error(error));\n\n}\n\n\n"]},"metadata":{},"sourceType":"module"}