{"ast":null,"code":"import { ControlCameraOutlined } from \"@material-ui/icons\";\nexport function storeLoginToken(token) {\n  localStorage.setItem('token', JSON.stringify(token));\n}\nexport function getCurrentToken() {\n  const token = JSON.parse(localStorage.getItem('token'));\n  return token;\n}\nexport function clearCurrentToken() {\n  localStorage.removeItem('token');\n}\nexport const fetchRoutines = async () => {\n  const response = await fetch('http://fitnesstrac-kr.herokuapp.com/api/routines', {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  const data = await response.json();\n  return data;\n};\nexport const fetchActivites = async () => {\n  const response = await fetch('http://fitnesstrac-kr.herokuapp.com/api/activities', {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  const data = await response.json();\n  return data;\n};\nexport const fetchUsername = async () => {\n  const response = await fetch('http://fitnesstrac-kr.herokuapp.com/api/users/me', {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${getCurrentToken()}`\n    }\n  });\n  const data = await response.json();\n  return data;\n};\nexport async function fetchUserRoutines({\n  user\n}) {\n  const url = `http://fitnesstrac-kr.herokuapp.com/api/users/${user}/routines`;\n\n  try {\n    const response = await fetch(url, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${getCurrentToken()}`\n      }\n    });\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}","map":{"version":3,"sources":["/home/tradcliffe/fitness_tracker/src/api/index.js"],"names":["ControlCameraOutlined","storeLoginToken","token","localStorage","setItem","JSON","stringify","getCurrentToken","parse","getItem","clearCurrentToken","removeItem","fetchRoutines","response","fetch","headers","data","json","fetchActivites","fetchUsername","fetchUserRoutines","user","url","error"],"mappings":"AAAA,SAASA,qBAAT,QAAsC,oBAAtC;AAEA,OAAO,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;AACnCC,EAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAeJ,KAAf,CAA9B;AACD;AAED,OAAO,SAASK,eAAT,GAA2B;AAChC,QAAML,KAAK,GAAGG,IAAI,CAACG,KAAL,CAAWL,YAAY,CAACM,OAAb,CAAqB,OAArB,CAAX,CAAd;AACA,SAAOP,KAAP;AACD;AAED,OAAO,SAASQ,iBAAT,GAA6B;AAClCP,EAAAA,YAAY,CAACQ,UAAb,CAAwB,OAAxB;AACD;AAGH,OAAO,MAAMC,aAAa,GAAG,YAAY;AACvC,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,kDAAD,EAAqD;AAC/EC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT;AADsE,GAArD,CAA5B;AAKA,QAAMC,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAT,EAAnB;AAEA,SAAOD,IAAP;AACD,CATM;AAYP,OAAO,MAAME,cAAc,GAAG,YAAY;AACxC,QAAML,QAAQ,GAAG,MAAMC,KAAK,CAAC,oDAAD,EAAuD;AACjFC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT;AADwE,GAAvD,CAA5B;AAKA,QAAMC,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAT,EAAnB;AAEA,SAAOD,IAAP;AACD,CATM;AAYP,OAAO,MAAMG,aAAa,GAAG,YAAY;AACrC,QAAMN,QAAQ,GAAG,MAAMC,KAAK,CAAC,kDAAD,EAAqD;AAC/EC,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,uBAAkB,UAASR,eAAe,EAAG;AAFtC;AADsE,GAArD,CAA5B;AAMA,QAAMS,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAT,EAAnB;AAEA,SAAOD,IAAP;AACH,CAVM;AAaP,OAAO,eAAeI,iBAAf,CAAiC;AACtCC,EAAAA;AADsC,CAAjC,EAEJ;AACD,QAAMC,GAAG,GAAI,iDAAgDD,IAAK,WAAlE;;AAEA,MAAI;AACF,UAAMR,QAAQ,GAAG,MAAMC,KAAK,CAACQ,GAAD,EAAM;AAChCP,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,yBAAkB,UAASR,eAAe,EAAG;AAFtC;AADuB,KAAN,CAA5B;AAMA,UAAMS,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAT,EAAnB;AAEA,WAAOD,IAAP;AACD,GAVD,CAUE,OAAOO,KAAP,EAAc;AACd,UAAMA,KAAN;AACD;AACF","sourcesContent":["import { ControlCameraOutlined } from \"@material-ui/icons\";\n\nexport function storeLoginToken(token) {\n    localStorage.setItem('token', JSON.stringify(token));\n  }\n  \n  export function getCurrentToken() {\n    const token = JSON.parse(localStorage.getItem('token'));\n    return token;\n  }\n  \n  export function clearCurrentToken() {\n    localStorage.removeItem('token');\n  }\n\n\nexport const fetchRoutines = async () => {\n  const response = await fetch('http://fitnesstrac-kr.herokuapp.com/api/routines', {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  })\n  const data = await response.json();\n\n  return data;\n}\n\n\nexport const fetchActivites = async () => {\n  const response = await fetch('http://fitnesstrac-kr.herokuapp.com/api/activities', {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  })\n  const data = await response.json();\n\n  return data;\n}\n\n\nexport const fetchUsername = async () => {\n    const response = await fetch('http://fitnesstrac-kr.herokuapp.com/api/users/me', {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${getCurrentToken()}`\n      },\n    })\n    const data = await response.json();\n\n    return data;\n}\n\n\nexport async function fetchUserRoutines({\n  user\n}) {\n  const url = `http://fitnesstrac-kr.herokuapp.com/api/users/${user}/routines`;\n\n  try {\n    const response = await fetch(url, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${getCurrentToken()}`\n        },\n    });\n    const data = await response.json();\n\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}