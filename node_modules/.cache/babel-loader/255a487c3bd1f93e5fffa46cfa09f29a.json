{"ast":null,"code":"var _jsxFileName = \"/home/tradcliffe/fitness_tracker/src/components/MyRoutines.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useEffect, useState } from 'react';\nimport { createRoutine } from './Routines';\nimport { getCurrentToken } from '../api';\nimport Routine from './Routine';\nimport { fetchRoutines } from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MyRoutines = () => {\n  _s();\n\n  const [routines, setRoutines] = useState([]);\n  const [creator, setCreator] = useState('');\n  const [routineName, setRoutineName] = useState('');\n  const [routineGoal, setRoutineGoal] = useState('');\n  const [isPublic, setIsPublic] = useState(false);\n  const [currentUser, setCurrentUser] = useState('');\n  useEffect(() => {\n    fetchRoutines().then(data => setRoutines(data));\n    console.log(routines);\n  }, []);\n  fetch('http://fitnesstrac-kr.herokuapp.com/api/users/me', {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${getCurrentToken()}`\n    }\n  }).then(response => response.json()).then(result => {\n    setCurrentUser(result.username);\n  }).catch(console.error);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"myRoutines\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"My Routines\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => {\n        e.preventDefault();\n        createRoutine({\n          routineName,\n          routineGoal,\n          isPublic\n        });\n        alert('Your post has been created!'); //need to redirect to /myroutines\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Name: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        required: true,\n        onChange: e => setRoutineName(e.target.value),\n        value: routineName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Goal: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        required: true,\n        onChange: e => setRoutineGoal(e.target.value),\n        value: routineGoal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Allow others to see? \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        value: isPublic,\n        onClick: () => setIsPublic(true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Create Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), routines ? routines.filter(routine => routine.creatorName === currentUser).map((routine, index) => /*#__PURE__*/_jsxDEV(Routine, {\n      creator: creator,\n      setCreator: setCreator,\n      routine: routine\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MyRoutines, \"oL3Ia2rI6XOzLEZFzdmPSU+RqJA=\");\n\n_c = MyRoutines;\nexport default MyRoutines;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyRoutines\");","map":{"version":3,"sources":["/home/tradcliffe/fitness_tracker/src/components/MyRoutines.js"],"names":["React","useEffect","useState","createRoutine","getCurrentToken","Routine","fetchRoutines","MyRoutines","routines","setRoutines","creator","setCreator","routineName","setRoutineName","routineGoal","setRoutineGoal","isPublic","setIsPublic","currentUser","setCurrentUser","then","data","console","log","fetch","headers","response","json","result","username","catch","error","e","preventDefault","alert","target","value","filter","routine","creatorName","map","index"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useEffect, useState } from 'react';\nimport { createRoutine } from './Routines'\nimport { getCurrentToken } from '../api';\nimport Routine from './Routine';\nimport { fetchRoutines } from '../api';\n\nconst MyRoutines = () => {\n\n    const [routines, setRoutines] = useState([]);\n    const [creator, setCreator] = useState('');\n    const [routineName, setRoutineName] = useState('');\n    const [routineGoal, setRoutineGoal] = useState('');\n    const [isPublic, setIsPublic] = useState(false);\n    const [currentUser, setCurrentUser] = useState('');\n\n    useEffect(() => {\n        fetchRoutines()\n        .then((data) => setRoutines(data))\n        console.log(routines)\n    }, [])\n\n\n        fetch('http://fitnesstrac-kr.herokuapp.com/api/users/me', {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${getCurrentToken()}`\n        },\n      }).then(response => response.json())\n        .then(result => {\n          setCurrentUser(result.username);\n        })\n        .catch(console.error);\n\n    return (\n        <div className='myRoutines'>\n            <h1>My Routines</h1>\n            <form onSubmit={e => {\n              e.preventDefault();\n              createRoutine({routineName, routineGoal, isPublic});\n              alert('Your post has been created!');\n                //need to redirect to /myroutines\n            }} >\n            <label>Name: </label>\n              <input type='text' required onChange={(e) => setRoutineName(e.target.value)} value={routineName} >\n                </input>\n            <label>Goal: </label>\n              <input type='text' required onChange={(e) => setRoutineGoal(e.target.value)} value={routineGoal} >\n                </input>\n            <label>Allow others to see? </label>\n              <input type='checkbox' value={isPublic} onClick={() => setIsPublic(true)} >\n                </input>\n              <button type='submit'>Create Post</button>\n            </form>\n            {routines ? routines.filter(routine => routine.creatorName === currentUser).map((routine, index) =>\n            <Routine creator={creator} setCreator={setCreator} key={index} routine={routine} /> ) : null }\n         </div>\n    )}\n\n\n\n\nexport default MyRoutines;"]},"metadata":{},"sourceType":"module"}